<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
        <link rel="stylesheet" type="text/css" href="../js/easyui/themes/default/easyui.css">
		<link rel="stylesheet" type="text/css" href="../js/easyui/themes/icon.css">
        <link rel="stylesheet" href="../js/ztree/css/zTreeStyle/zTreeStyle.css" type="text/css">
		<script type="text/javascript" src="../js/jquery-1.8.3.js"></script>
		<script type="text/javascript" src="../js/ztree/js/jquery.ztree.all.js"></script>
		<script type="text/javascript" src="../js/easyui/jquery.easyui.min.js"></script>
		
        

<script type="text/javascript">

   function addTabs(){ 
	   
	  var falg= $('#tt').tabs("exists","新选项卡面板");
	  alert(falg)
	   if(!falg){
		$('#tt').tabs('add',{
			title: '新选项卡面板',
			selected: false,
			closable:true
			//...
		});
	   }
	  $('#tt').tabs("select","新选项卡面板");
   }

	
   
   
	
    $(function(){
    	var setting = {
    			data : {
    				simpleData : {
    					enable : true
    				}
    			},
    			callback : {
	    			onClick : function(event,treeId,treeNode){
	    				alert(treeNode.pId)
	        			if (treeNode.pId != null) {
	        				var falg= $('#tt').tabs("exists",treeNode.name);
	        				if(!falg){
	        					$("#tt").tabs('add',{
	        						title : treeNode.name,
	        						closable : true,
	        						content : '<iframe width="100%" height="100%" frameborder="0" src="../'+treeNode.page+'"></iframe>'
	        						
	        					})
	        				}
	        				$("#tt").tabs('select',treeNode.name);
	        			}
        			}
    				
    			}
    			
    		}
		$.get("../data/menu.json", function(data) {
			// 参数1: 在那个节点加载树
			// 参数2: 属性配置
			// 参数3: 节点数据
			$.fn.zTree.init($("#treeDemo"), setting, data);
		})

    })
    
    
    
    
	/* 
	id:唯一标识
	pId:父节点的标识,如果是0,根节点
	 */
  /*  var zNodes =[
    			{ id:1, pId:0, name:"父节点1 - 展开", open:true},
    			{ id:11, pId:1, name:"父节点11 - 折叠"},
    			{ id:3, pId:0, name:"父节点3 - 没有子节点", isParent:true}
    		]; */
					  	
    	
   
   
   
   
   
   
   
   
</script>

<body>


<div class="easyui-layout" data-options="fit:true"  >
		<div data-options="region:'north'" style="height:100px"></div>
		<div data-options="region:'west'" title="West" style="width:200px;"   >
	     	<div class="easyui-accordion" style="width:500px;height:300px;" data-options="fit:true"    >
				<div onclick=""  title="关于" data-options="iconCls:'icon-ok'" style="overflow:auto;padding:10px;">
			         	<a href="javaScript:addTabs()"  class="easyui-linkbutton" iconCls="icon-add">Refresh</a><br>
				
				</div>
				<div title="菜单栏" data-options="iconCls:'icon-search',selected:true" style="padding:10px;">
				
				
				
					<div class="content_wrap">
						<div class="zTreeDemoBackground left">
							<ul id="treeDemo" class="ztree"></ul>
						</div>
					
					</div>
				
				
				
				</div>
				<div title="帮助" data-options="iconCls:'icon-help'" style="padding:10px;">
				</div>
			</div>
		</div>
		<div data-options="region:'center',title:'Main Title',iconCls:'icon-ok'">
		
		    <div class="easyui-tabs" style="width:700px;height:250px"  data-options="fit:true"  id="tt" >
				
				<div title="选项卡一"  style="padding:10px">
				</div>
				
				<div  title="选项卡二" data-options="closable:true" style="padding:10px">
				</div>
				
				<div title="帮助" data-options="iconCls:'icon-help'" style="padding:10px">
					百度啊!!!???
				</div>
				
	       </div>
	       
		</div>
	</div>
 

</body>
</html>